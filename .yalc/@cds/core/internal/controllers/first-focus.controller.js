import{listenForAttributeChange as s}from"../utils/events.js";import{getFocusableItems as t}from"../utils/traversal.js";import{ignoreFocusTrap as o,getItemToFocus as r}from"./utils/first-focus.controller.utils.js";import{FocusTrapTrackerService as e}from"../services/focus-trap-tracker.service.js";class i{constructor(s){this.host=s,this.host.addController(this)}get focusableItems(){return t(this.host)}async hostConnected(){await this.host.updateComplete,this.observer=s(this.host,"hidden",(()=>this.cdsFocusFirst())),this.cdsFocusFirst()}hostDisconnected(){const s=this.host.focusTrapId;s&&e.removeTrapElement({focusTrapId:s}),this.observer.disconnect()}cdsFocusFirst(){this.host.hidden||o(this.host)||r(this.host,this.focusableItems).focus()}}export{i as FirstFocusController};
//# sourceMappingURL=first-focus.controller.js.map
