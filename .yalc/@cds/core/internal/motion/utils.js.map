{"version":3,"file":"utils.js","sources":["../../../../src/internal/motion/utils.ts"],"sourcesContent":null,"names":["async","runPropertyAnimations","props","hostEl","_animations","LogService","warn","tagName","toLocaleLowerCase","propertyAnimations","getPropertyAnimations","Promise","all","map","propNameAnimationTuple","propname","propertyAnimationsByValue","get","animatedPropertyValueAsString","toString","cdsMotionValue","cdsMotion","motionName","returnedMotion","getAnimationConfigForPropertyValue","getInlineOverride","motionForMyValue","clone","length","setAnimationConfigOptions","animations","getAnimationPromiseInstructions","then","resolveAnimationEndStatus","result","indexOf","catch","setAnimationStartStatus","getAttribute","AnimationStatus","active","setAttribute","cdsMotionChange","emit","start","ready","end","animationsAreTurnedOff","animationIsReversed","reverseAnimationConfig","zeroOutAnimationConfig","setAnimationEasing","setAnimationDuration","motionConfigs","filter","config","onlyIf","allPropertiesPass","resolve","animationPlayer","getAnimationTarget","target","animate","getAnimationKeyframesOrPropertyIndexedFrames","animation","options","listener","removeEventListener","addEventListener","targetSelector","queryChildFromLightOrShadowDom","animationConfig","Array","isArray","sizeDimensionKeyframes","nameOfAnimation","isSuffixedBy","CLARITY_MOTION_REVERSE_ANIMATION_SUFFIX","anim","direction","CLARITY_MOTION_REVERSE_ANIMATION_LABEL","reverseAnimation","animationName","propName","propValue","inlineOverride","JSON","parse","e","extractAnimationNameIfReversed","name","slice","getAnimationFromOverrideOrDecorator","decoratorValue","overrideValue","ClarityMotion","has","nameOfAnimationFromObject","cdsMotionOverride","setAnimationProperty","CLARITY_MOTION_FALLBACK_DURATION_IN_MS","val","getMillisecondsFromSeconds","getNumericValueFromCssSecondsStyleValue","CLARITY_MOTION_FALLBACK_EASING","duration","easing","propertyName","staticFallback","valueConverter","isCssPropertyName","myConfigOption","valFromProperty","getCssPropertyValue","newConfigOptions","animationKeyframes","kf","_a","_b","_c","_d","Object","prototype","hasOwnProperty","call","isPrefixedBy","height","selector","removePrefix","measureTarget","getBoundingClientRect","width","filterAnimationsByUpdatedProperties","updatingProps","objectIsEmpty","returnObject","getOwnPropertyNames","forEach","prop","undefined","flattenAndSortAnimations","hiddenAndNotAnimationTuple","isHiding","hiddenAnimations","otherAnimations","concat","getHidingAndNonHidingPropertyAnimations","animationTuple","CLARITY_MOTION_ENTER_LEAVE_PROPERTY","push","activeAnimations"],"mappings":"yxBA2BOA,eAAeC,EAAsBC,EAAOC,GAC/C,IAAKA,EAAOC,YAER,OADAC,EAAWC,KAAQH,EAAOI,QAAQC,oBAAlB,yDACT,EAUX,MAAMC,EAAqBC,EAAsBP,EAAOC,YAAaF,GAkCrE,aAjC4BS,QAAQC,IAAIH,EAAmBI,KAAKC,IAC5D,MAAOC,EAAUC,GAA6BF,EAC9C,GAAIZ,EAAMe,IAAIF,KAAcZ,EAAOY,GAE/B,OAAO,EAGX,MAAMG,EAAgCF,EAA0Bb,EAAOY,GAAUI,YAC3EC,EAAiBjB,EAAOkB,WAKvBC,EAAYC,GAAkBC,EAAmCN,EAA+BO,EAAkBL,EAAgBL,EAAUZ,EAAOY,GAAUI,aACpK,IAAIO,EAAmBC,EAAMJ,GAE7B,GAAIG,EAAiBE,OAAS,EAC1B,OAAO,EAEXF,EAAmBG,EAA0BP,EAAYI,EAAkBvB,GAE3E,MAAM2B,EAAaC,EAAgCb,EAA+BQ,EAAkBvB,GACpG,OAAOQ,QAAQC,IAAIkB,GAAYE,MAAK,KAChCC,EAA0Bf,EAA+Bf,IAClD,SAGV6B,MAAKE,GACCA,EAAOC,SAAQ,IAAS,IAE9BC,OAAM,KACA,IAMR,SAASC,EAAwBnB,EAA+Bf,GAE/DA,EAAOmC,aAAa,2BAA6BC,EAAgBC,SACjErC,EAAOsC,aAAa,wBAAyBF,EAAgBC,QAE7DrC,EAAOuC,gBAAgBC,KAAK,GAAGzB,eAA2CqB,EAAgBK,UAI3F,SAASX,EAA0Bf,EAA+Bf,GAErEA,EAAOsC,aAAa,wBAAyBF,EAAgBM,OAE7D1C,EAAOuC,gBAAgBC,KAAK,GAAGzB,eAA2CqB,EAAgBO,OAGvF,SAASjB,EAA0BP,EAAYI,EAAkBvB,GACpE,MAAMiB,EAAiBjB,EAAOkB,UACxB0B,GAA0B3B,GAAqC,QAAnBA,EAgBlD,OAZI4B,EAAoB1B,KACpBI,EAAmBuB,EAAuBvB,IAE1CqB,EAEmBG,EAAuBxB,GAKvByB,EADnBzB,EAAmB0B,EAAqB1B,EAAkBvB,GACFA,GAKzD,SAAS4B,EAAgCb,EAA+BmC,EAAelD,GAC1F,OAAOkD,EACFC,QAAOC,IAAWA,EAAOC,QAAUC,EAAkBtD,EAAQoD,EAAOC,UACpE3C,KAAI0C,IACLlB,EAAwBnB,EAA+Bf,GAChD,IAAIQ,SAAQ+C,IACf,MAAMC,EAAkBC,EAAmBzD,EAAQoD,EAAOM,QAAQC,QAAQC,EAA6CR,EAAOS,UAAW7D,GAASoD,EAAOU,SAAW,IAC9JC,EAAW,KACbR,EAAQ,sBACRC,EAAgBQ,oBAAoB,SAAUD,IAElDP,EAAgBS,iBAAiB,SAAUF,SAKhD,SAASN,EAAmBzD,EAAQkE,GACvC,OAAOC,EAA+BnE,EAAQkE,IAAmBlE,EAG9D,SAAS4D,EAA6CQ,EAAiBpE,GAC1E,OAAQqE,MAAMC,QAAQF,GAAqCG,EAAuBH,EAAiBpE,GAA1DoE,EAKtC,SAASvB,EAAoB2B,GAChC,OAAOC,EAAaD,EAAiBE,GAKlC,SAAS5B,EAAuBM,GACnC,OAAOA,EAAO1C,KAAKiE,IACXA,EAAKb,QACLa,EAAKb,QAAQc,UAAYC,EAGzBF,EAAKb,QAAU,CAAEc,UAAWC,GAEzBF,KAKR,SAASG,EAAiBC,GAC7B,OAAQA,EAAD,IAAqBF,EAOzB,SAASvD,EAAkBL,EAAgB+D,EAAUC,GACxD,IAAKhE,IAAmB+D,QAAiC,IAAdC,EACvC,MAAO,GAEX,GAAuB,OAAnBhE,GAA8C,QAAnBA,EAC3B,MAAO,GAEX,IAAIiE,EACJ,IACIA,EAAiBC,KAAKC,MAAMnE,GAEhC,MAAOoE,GACH,MAAO,GAGX,OADsBH,EAAeF,IAAaE,EAAeF,GAAUC,IACpC,GAIpC,SAASK,EAA+BC,GAC3C,OAAO1C,EAAoB0C,GAAQA,EAAKC,MAAM,GAAI,EAAId,EAAwCjD,QAAU8D,EAIrG,SAASE,EAAoCC,EAAgBC,GAChE,OAAKA,GAGEC,EAAcC,IAAIP,EAA+BK,IAAkBA,EAF/DD,EAQR,SAASrE,EAAmCyE,EAA2BC,GAC1E,MAAMvB,EAAkBiB,EAAoCK,EAA2BC,GACvF,MAAO,CAACvB,EAAiBhD,EAAMoE,EAAc9E,IAAIwE,EAA+Bd,MAI7E,SAASvB,EAAqBG,EAAQpD,GACzC,OAAOgG,EAAqB,WAAYhG,EAAQoD,EAAQ6C,GAAyCC,GACtFC,EAA2BC,EAAwCF,MAI3E,SAASlD,EAAmBI,EAAQpD,GAEvC,OAAOgG,EAAqB,SAAUhG,EAAQoD,EAAQiD,GAGnD,SAAStD,EAAuBK,GAEnC,OAAOA,EAAO1C,KAAIiE,IACVA,EAAKb,SACLa,EAAKb,QAAQwC,SAAW,EACxB3B,EAAKb,QAAQyC,OAASF,GAGtB1B,EAAKb,QAAU,CAAEwC,SAAU,EAAGC,OAAQF,GAEnC1B,KAIR,SAASqB,EAAqBQ,EAAcxG,EAAQoD,EAAQqD,EAAgBC,GAC/E,OAAOtD,EAAO1C,KAAKiE,IACf,GAAIA,EAAKb,QACL,GAAKa,EAAKb,QAAQ0C,IAGb,GAAIG,EAAkBhC,EAAKb,QAAQ0C,IAAgB,CACpD,MAAMI,EAAiBjC,EAAKb,QAAQ0C,GACpC,IAAIK,EAAkBC,EAAoBF,EAAgB5G,GACrD6G,EAGIH,IACLG,EAAkBH,EAAeG,IAHjCA,EAAkBJ,EAKtB9B,EAAKb,QAAQ0C,GAAgBK,QAX7BlC,EAAKb,QAAQ0C,GAAgBC,MAehC,CACD,MAAMM,EAAmB,GACzBA,EAAiBP,GAAgBC,EACjC9B,EAAKb,QAAUiD,EAEnB,OAAOpC,KAKR,SAASJ,EAAuByC,EAAoBhH,GACvD,OAAKqE,MAAMC,QAAQ0C,GAGZA,EAAmBtG,KAAKuG,IAC3B,IAAIC,EAAIC,EAAIC,EAAIC,EAChB,GAAIC,OAAOC,UAAUC,eAAeC,KAAKR,EAAI,WAAaS,GAA2E,QAA5DR,EAAKD,MAAAA,OAA+B,EAASA,EAAGU,cAA2B,IAAPT,OAAgB,EAASA,EAAGlG,aAAe,GAAI,SAAU,CAClM,MAAM4G,EAAWC,GAA2E,QAA5DV,EAAKF,MAAAA,OAA+B,EAASA,EAAGU,cAA2B,IAAPR,OAAgB,EAASA,EAAGnG,aAAe,GAAI,SAC7I8G,EAAgB3D,EAA+BnE,EAAQ4H,IAAa,KAC1EX,EAAGU,OAAUG,EAAyBA,EAAcC,wBAAwBJ,OAAS,KAAxD,OAEjC,GAAIL,OAAOC,UAAUC,eAAeC,KAAKR,EAAI,UAAYS,GAA0E,QAA3DN,EAAKH,MAAAA,OAA+B,EAASA,EAAGe,aAA0B,IAAPZ,OAAgB,EAASA,EAAGpG,aAAe,GAAI,SAAU,CAChM,MAAM4G,EAAWC,GAA0E,QAA3DR,EAAKJ,MAAAA,OAA+B,EAASA,EAAGe,aAA0B,IAAPX,OAAgB,EAASA,EAAGrG,aAAe,GAAI,SAC5I8G,EAAgB3D,EAA+BnE,EAAQ4H,IAAa,KAC1EX,EAAGe,MAASF,EAAyBA,EAAcC,wBAAwBC,MAAQ,KAAvD,OAEhC,OAAOf,KAdAD,EAkBR,SAASiB,EAAoCtG,EAAYuG,GAC5D,GAAIvG,MAAAA,EACA,OAAO,KAEX,IAAIwG,GAAgB,EACpB,MAAMC,EAAe,GAUrB,OATAd,OAAOe,oBAAoB1G,GAAY2G,SAASC,IAIxCL,EAAcrC,IAAI0C,SAAqCC,IAA5BN,EAAcpH,IAAIyH,KAC7CH,EAAaG,GAAQ/G,EAAMG,EAAW4G,IACtCJ,GAAgB,MAGjBA,EAAgB,KAAOC,EAG3B,SAASK,EAAyBC,EAA4BC,GACjE,GAAID,MAAAA,EACA,MAAO,GAEX,MAAOE,EAAkBC,GAAmBH,EAC5C,OAAIE,EAAiBnH,OAAS,EACtBkH,EAEO,GAAGG,OAAOD,EAAiBD,GAI3B,GAAGE,OAAOF,EAAkBC,GAIhCA,EAIR,SAASE,EAAwCpH,GACpD,MAAMiH,EAAmB,GACnBC,EAAkB,GAUxB,OATAvB,OAAOe,oBAAoB1G,GAAc,IAAI2G,SAASC,IAClD,MAAMS,EAAiB,CAACT,EAAM/G,EAAMG,EAAW4G,KAC3CA,IAASU,EACTL,EAAiBM,KAAKF,GAGtBH,EAAgBK,KAAKF,MAGtB,CAACJ,EAAkBC,GAGvB,SAAStI,EAAsBoB,EAAYuG,GAC9C,MAAMiB,EAAmBlB,EAAoCtG,GAAc,GAAIuG,GAC/E,OAAyB,OAArBiB,EACO,GAIJV,EAFiCM,EAAwCI,GAC/DjB,EAAcpH,IAAImI"}