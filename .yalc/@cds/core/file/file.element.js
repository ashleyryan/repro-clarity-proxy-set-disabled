import{__decorate as t}from"tslib";import{html as e}from"lit";import{I18nService as i,i18n as s,state as o}from"@cds/core/internal";import{CdsControl as n}from"@cds/core/forms";import l from"./file.element.scss.js";class r extends n{constructor(){super(...arguments),this.i18n=i.keys.file,this.buttonLabel=this.i18n.browse,this.fixedControlWidth=!0,this.supportsPrefixSuffixActions=!1}static get styles(){return[...super.styles,l]}get inputTemplate(){return e`<div cds-layout="horizontal gap:sm align:vertical-center"><cds-button size="sm" action="outline" @click="${()=>this.label.click()}" ?disabled="${this.disabled}"><cds-icon shape="folder" aria-hidden="true"></cds-icon><span>${this.buttonLabel}</span></cds-button>${this.clearFilesControlTemplate}</div>`}get clearFilesControlTemplate(){var t;return(null===(t=this.inputControl.files)||void 0===t?void 0:t.length)&&!this.disabled?e`<cds-button-action shape="times" @click="${()=>this.clearFiles()}" aria-label="${this.i18n.removeFile}"></cds-button-action>`:e``}firstUpdated(t){super.firstUpdated(t),this.inputControl.addEventListener("change",(t=>{t.isTrusted&&this.updateLabelAndFocus(t.target.files)}))}clearFiles(t=!0){var e;this.buttonLabel=this.i18n.browse,this.inputControl.value="",t&&this.inputControl.dispatchEvent&&this.inputControl.dispatchEvent(new Event("change"));const i=null===(e=this.shadowRoot)||void 0===e?void 0:e.querySelector("cds-button");i&&i.focus()}updateLabelAndFocus(t){t&&t.length?this.buttonLabel=t.length>1?`${t.length} ${this.i18n.files}`:t[0].name:this.clearFiles(!1)}}t([s()],r.prototype,"i18n",void 0),t([o()],r.prototype,"buttonLabel",void 0),t([o()],r.prototype,"fixedControlWidth",void 0),t([o()],r.prototype,"supportsPrefixSuffixActions",void 0);export{r as CdsFile};
//# sourceMappingURL=file.element.js.map
